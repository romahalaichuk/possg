{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./MenuManager.css\";import{products}from\"./Produkt\";import PaymentManager from\"./PaymentManager\";import Dodatki from\"./Dodatki\";import Procent from\"./Procent\";import{getSelectedItems,addSelectedItem,removeSelectedItem,clearSelectedItems,updateSelectedItems}from\"./LocalStorageManager\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[\"Przystawki\",\"Pizza\",\"Makaron\",\"Menu sezonowe\",\"Desery\",\"Napój bezalkoholowy\",\"Wina\",\"Drinki\"];const MenuManager=_ref=>{let{tableName,onClose,onAddProduct,resetTable}=_ref;const[selectedItems,setSelectedItems]=useState([]);const[showMenuItemsModal,setShowMenuItemsModal]=useState(false);const[showPaymentModal,setShowPaymentModal]=useState(false);const[showProcentModal,setShowProcentModal]=useState(false);const[searchTerm,setSearchTerm]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[menuItems,setMenuItems]=useState([]);const[selectedCategory,setSelectedCategory]=useState(categories[0]);const[tableStatus,setTableStatus]=useState(\"free\");const[currentTableName,setCurrentTableName]=useState(tableName);const[totalPrice,setTotalPrice]=useState(0);const[adjustments,setAdjustments]=useState({service:0,discount:0,addToBill:0,subtractFromBill:0});const modalRef=useRef(null);const overlayRef=useRef(null);const searchBarRef=useRef(null);const calculateTotalItemsAndAmount=()=>{let totalItems=0;let totalAmount=0;selectedItems.forEach(item=>{totalItems+=item.quantity;let itemPrice=item.price;if(item.extras&&item.extras.length>0){item.extras.forEach(extra=>{if(extra.category===\"Dod\"){itemPrice+=extra.price;}});}totalAmount+=itemPrice*item.quantity;});const discountAmount=adjustments.discount/100*totalAmount;return{totalItems,totalAmount,discountAmount};};useEffect(()=>{const storedSelectedItems=getSelectedItems(tableName);setSelectedItems(storedSelectedItems);setTableStatus(storedSelectedItems.length>0?\"occupied\":\"free\");},[tableName]);useEffect(()=>{const handleClickOutside=e=>{if(modalRef.current&&!modalRef.current.contains(e.target)&&overlayRef.current&&overlayRef.current.contains(e.target)){setShowMenuItemsModal(false);setShowProcentModal(false);}if(searchBarRef.current&&!searchBarRef.current.contains(e.target)){setSearchResults([]);setSearchTerm(\"\");}};if(showMenuItemsModal||showProcentModal){document.addEventListener(\"mousedown\",handleClickOutside);}else{document.removeEventListener(\"mousedown\",handleClickOutside);}return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[showMenuItemsModal,showProcentModal]);const handleCategoryClick=category=>{setSelectedCategory(category);const filteredItems=products.filter(item=>item.category===category&&(item.category!==\"Pizza\"||!selectedItems.some(si=>si.id===item.id)));setMenuItems(filteredItems);setShowMenuItemsModal(true);setShowPaymentModal(false);setSearchResults([]);setSearchTerm(\"\");};const handleSearchChange=e=>{const term=e.target.value.trim().toLowerCase();setSearchTerm(e.target.value);if(term===\"\"){setSearchResults([]);}else{const filteredItems=products.filter(item=>item.name.toLowerCase().includes(term));setSearchResults(filteredItems);}};const handleItemSelect=item=>{const existingPizza=selectedItems.find(i=>i.category===\"Pizza\"&&i.id===item.id);if(existingPizza){const updatedItems=selectedItems.map(i=>i===existingPizza?{...i,quantity:i.quantity+1}:i);setSelectedItems(updatedItems);updateSelectedItems(tableName,updatedItems);onAddProduct(existingPizza.id,existingPizza.name,existingPizza.price);addSelectedItem(\"\".concat(tableName,\"_\").concat(existingPizza.id),existingPizza.id,existingPizza.name,existingPizza.price,existingPizza.comment||\"\");}else{const updatedItems=[...selectedItems,{...item,quantity:1}];setSelectedItems(updatedItems);updateSelectedItems(tableName,updatedItems);onAddProduct(item.id,item.name,item.price);addSelectedItem(\"\".concat(tableName,\"_\").concat(item.id),item.id,item.name,item.price,item.comment||\"\");}calculateTotalPrice();setSearchResults([]);setSearchTerm(\"\");};const handleItemSelectWithComment=(item,comment)=>{const updatedItem={...item,comment};handleItemSelect(updatedItem);};const handleItemRemove=itemId=>{const updatedItems=selectedItems.map(item=>item.id===itemId?{...item,quantity:item.quantity-1}:item);const filteredItems=updatedItems.filter(item=>item.quantity>0);setSelectedItems(filteredItems);updateSelectedItems(tableName,filteredItems);removeSelectedItem(\"\".concat(tableName,\"_\").concat(itemId));};const handleCommentChange=(comment,itemId)=>{const updatedItems=selectedItems.map(item=>item.id===itemId?{...item,comment:comment}:item);setSelectedItems(updatedItems);updateSelectedItems(tableName,updatedItems);};const handleCommentAdd=comment=>{const commentId=\"comment_\".concat(new Date().getTime());const commentItem={id:commentId,name:\"Komentarz: \".concat(comment),price:0,quantity:1,comment:comment};const updatedItems=[...selectedItems,commentItem];setSelectedItems(updatedItems);updateSelectedItems(tableName,updatedItems);};const handleAddExtra=(itemId,extra)=>{const updatedItems=selectedItems.map(item=>item.id===itemId?{...item,extras:[...(item.extras||[]),extra],price:item.price<extra.price?extra.price:item.price}:item);setSelectedItems(updatedItems);updateSelectedItems(tableName,updatedItems);calculateTotalPrice();};const handleRemoveExtra=(itemId,extraId)=>{const updatedItems=selectedItems.map(item=>item.id===itemId?{...item,extras:item.extras.filter(extra=>extra.id!==extraId),price:item.extras&&item.extras.length>0?Math.max(item.price,item.extras.reduce((max,extra)=>Math.max(max,extra.price))):item.price}:item);setSelectedItems(updatedItems);updateSelectedItems(tableName,updatedItems);};const calculateTotalPrice=()=>{let totalPrice=0;selectedItems.forEach(item=>{totalPrice+=(item.price+(item.extras?item.extras.reduce((sum,extra)=>extra.category===\"Dod\"?sum+extra.price:sum,0):0))*item.quantity;});setTotalPrice(totalPrice);};const handleRozliczClick=()=>{setShowPaymentModal(true);};const handlePaymentComplete=()=>{// Update local storage to include the table name in the served wynos tables list\nlet servedWynosTables=JSON.parse(localStorage.getItem(\"servedWynosTables\"))||[];if(!servedWynosTables.includes(tableName)){servedWynosTables.push(tableName);localStorage.setItem(\"servedWynosTables\",JSON.stringify(servedWynosTables));}clearSelectedItems(tableName);setSelectedItems([]);setShowPaymentModal(false);setTableStatus(\"free\");setCurrentTableName(tableName);resetTable();onClose(totalPrice,adjustments);};const handleAdjustmentsSubmit=adjustments=>{setAdjustments(adjustments);setShowProcentModal(false);};const handleOpenProcentModal=()=>{setShowProcentModal(true);};const handleOverlayClick=e=>{if(e.target.classList.contains(\"extras-modal-overlay\")){setShowMenuItemsModal(false);}};const handleOverlayClickk=e=>{if(e.target.classList.contains(\"procent-modal-overlay\")){setShowProcentModal(false);}};const{totalItems,totalAmount,discountAmount}=calculateTotalItemsAndAmount();const serviceCharge=adjustments.service/100*totalAmount;const calculateAdjustedTotal=()=>{let adjustedTotal=totalAmount;// Apply service charge if applicable\nif(adjustments.service>0){adjustedTotal+=adjustments.service/100*totalAmount;}// Apply discount if applicable\nif(adjustments.discount>0){const discountAmount=adjustments.discount/100*totalAmount;adjustedTotal-=discountAmount;}// Apply add to bill adjustment if applicable\nif(adjustments.addToBill>0){adjustedTotal+=adjustments.addToBill;}// Apply subtract from bill adjustment if applicable\nif(adjustments.subtractFromBill>0){adjustedTotal-=adjustments.subtractFromBill;}return adjustedTotal;};return/*#__PURE__*/_jsx(\"div\",{className:\"menu-manager-overlay \".concat(tableStatus),ref:overlayRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-manager\",ref:modalRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:currentTableName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-buttons\",children:[categories.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCategoryClick(category),className:category===selectedCategory?\"active\":\"\",children:category},category)),/*#__PURE__*/_jsx(\"button\",{onClick:handleOpenProcentModal,children:\"%\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",ref:searchBarRef,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Szukaj produktu...\",value:searchTerm,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"h3\",{children:\"Zam\\xF3wienie stolika\"}),searchTerm.trim()!==\"\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-suggestions\",children:[searchResults.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-suggestion\",onClick:()=>handleItemSelectWithComment(item,searchTerm),children:[item.name,\" - \",item.price,\" z\\u0142\"]},item.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"search-suggestion\",onClick:()=>{handleCommentAdd(searchTerm);setSearchResults([]);setSearchTerm(\"\");},children:[\"Dodaj jako komentarz: \\\"\",searchTerm,\"\\\"\"]})]})]}),showMenuItemsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"extras-modal-overlay\",onClick:handleOverlayClick,children:/*#__PURE__*/_jsx(\"div\",{className:\"menu-items-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-items\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Menu - \",selectedCategory]}),/*#__PURE__*/_jsx(\"ul\",{children:menuItems.map(item=>/*#__PURE__*/_jsxs(\"li\",{children:[item.name,\" - \",item.price,\" z\\u0142\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleItemSelect(item),children:\"Dodaj\"})]},item.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMenuItemsModal(false),children:\"Zamknij\"})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"selected-items\",children:[/*#__PURE__*/_jsx(\"ul\",{children:selectedItems.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[item.name,\" - \",item.price?item.price:0,\" z\\u0142 x \",item.quantity,\" \",\"=\",\" \",((item.price+(item.extras?item.extras.reduce((sum,extra)=>extra.category===\"Dod\"?sum+extra.price:sum,0):0))*item.quantity).toFixed(2),\" \",\"z\\u0142\",/*#__PURE__*/_jsx(Dodatki,{selectedItemId:item.id,selectedItems:selectedItems,handleAddExtra:handleAddExtra,handleRemoveExtra:handleRemoveExtra}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.comment||\"\",placeholder:\"Komentarz\",onChange:e=>handleCommentChange(e.target.value,item.id),className:\"comment-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleItemRemove(item.id),children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleItemSelect(item),children:\"+\"})]},\"\".concat(item.id,\"-\").concat(index)))}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Liczba pozycji: \",totalItems]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Suma: \",calculateAdjustedTotal().toFixed(2),\" z\\u0142\"]}),adjustments.service>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\"Zastosowano \",adjustments.service,\"% serwisu (+\",\" \",serviceCharge.toFixed(2),\" z\\u0142)\"]}),adjustments.discount>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"blue\"},children:[\"Zastosowano \",adjustments.discount.toFixed(2),\" % zni\\u017Cki (-\",\" \",discountAmount.toFixed(2),\" z\\u0142), do zap\\u0142aty:\",\" \",(totalAmount-discountAmount).toFixed(2),\" z\\u0142\"]}),adjustments.addToBill>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"green\"},children:[\"Dodano \",adjustments.addToBill.toFixed(2),\" z\\u0142 do rachunku (+\",\" \",adjustments.addToBill.toFixed(2),\" z\\u0142)\"]}),adjustments.subtractFromBill>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"blue\"},children:[\"Odejmowano \",adjustments.subtractFromBill.toFixed(2),\" z\\u0142 od rachunku (- \",adjustments.subtractFromBill.toFixed(2),\" z\\u0142)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"Zamknij\"}),selectedItems.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleRozliczClick,children:\"Rozlicz\"})]}),showPaymentModal&&/*#__PURE__*/_jsx(\"div\",{className:\"payment-modal\",children:/*#__PURE__*/_jsx(PaymentManager,{selectedItems:selectedItems,adjustedTotalAmount:calculateAdjustedTotal(),onClose:handlePaymentComplete})}),showProcentModal&&/*#__PURE__*/_jsx(\"div\",{className:\"procent-modal-overlay\",onClick:handleOverlayClickk,children:/*#__PURE__*/_jsx(\"div\",{className:\"procent-modal\",children:/*#__PURE__*/_jsx(Procent,{onClose:()=>setShowProcentModal(false),onSubmit:handleAdjustmentsSubmit})})})]})});};export default MenuManager;","map":{"version":3,"names":["React","useState","useEffect","useRef","products","PaymentManager","Dodatki","Procent","getSelectedItems","addSelectedItem","removeSelectedItem","clearSelectedItems","updateSelectedItems","jsx","_jsx","jsxs","_jsxs","categories","MenuManager","_ref","tableName","onClose","onAddProduct","resetTable","selectedItems","setSelectedItems","showMenuItemsModal","setShowMenuItemsModal","showPaymentModal","setShowPaymentModal","showProcentModal","setShowProcentModal","searchTerm","setSearchTerm","searchResults","setSearchResults","menuItems","setMenuItems","selectedCategory","setSelectedCategory","tableStatus","setTableStatus","currentTableName","setCurrentTableName","totalPrice","setTotalPrice","adjustments","setAdjustments","service","discount","addToBill","subtractFromBill","modalRef","overlayRef","searchBarRef","calculateTotalItemsAndAmount","totalItems","totalAmount","forEach","item","quantity","itemPrice","price","extras","length","extra","category","discountAmount","storedSelectedItems","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleCategoryClick","filteredItems","filter","some","si","id","handleSearchChange","term","value","trim","toLowerCase","name","includes","handleItemSelect","existingPizza","find","i","updatedItems","map","concat","comment","calculateTotalPrice","handleItemSelectWithComment","updatedItem","handleItemRemove","itemId","handleCommentChange","handleCommentAdd","commentId","Date","getTime","commentItem","handleAddExtra","handleRemoveExtra","extraId","Math","max","reduce","sum","handleRozliczClick","handlePaymentComplete","servedWynosTables","JSON","parse","localStorage","getItem","push","setItem","stringify","handleAdjustmentsSubmit","handleOpenProcentModal","handleOverlayClick","classList","handleOverlayClickk","serviceCharge","calculateAdjustedTotal","adjustedTotal","className","ref","children","onClick","type","placeholder","onChange","index","toFixed","selectedItemId","style","color","adjustedTotalAmount","onSubmit"],"sources":["C:/Users/HP/OneDrive/Desktop/possg4/src/components/MenuManager.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./MenuManager.css\";\r\nimport { products } from \"./Produkt\";\r\nimport PaymentManager from \"./PaymentManager\";\r\nimport Dodatki from \"./Dodatki\";\r\nimport Procent from \"./Procent\";\r\nimport {\r\n\tgetSelectedItems,\r\n\taddSelectedItem,\r\n\tremoveSelectedItem,\r\n\tclearSelectedItems,\r\n\tupdateSelectedItems,\r\n} from \"./LocalStorageManager\";\r\n\r\nconst categories = [\r\n\t\"Przystawki\",\r\n\t\"Pizza\",\r\n\t\"Makaron\",\r\n\t\"Menu sezonowe\",\r\n\t\"Desery\",\r\n\t\"Napój bezalkoholowy\",\r\n\t\"Wina\",\r\n\t\"Drinki\",\r\n];\r\n\r\nconst MenuManager = ({ tableName, onClose, onAddProduct, resetTable }) => {\r\n\tconst [selectedItems, setSelectedItems] = useState([]);\r\n\tconst [showMenuItemsModal, setShowMenuItemsModal] = useState(false);\r\n\tconst [showPaymentModal, setShowPaymentModal] = useState(false);\r\n\tconst [showProcentModal, setShowProcentModal] = useState(false);\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [searchResults, setSearchResults] = useState([]);\r\n\tconst [menuItems, setMenuItems] = useState([]);\r\n\tconst [selectedCategory, setSelectedCategory] = useState(categories[0]);\r\n\tconst [tableStatus, setTableStatus] = useState(\"free\");\r\n\tconst [currentTableName, setCurrentTableName] = useState(tableName);\r\n\tconst [totalPrice, setTotalPrice] = useState(0);\r\n\tconst [adjustments, setAdjustments] = useState({\r\n\t\tservice: 0,\r\n\t\tdiscount: 0,\r\n\t\taddToBill: 0,\r\n\t\tsubtractFromBill: 0,\r\n\t});\r\n\r\n\tconst modalRef = useRef(null);\r\n\tconst overlayRef = useRef(null);\r\n\tconst searchBarRef = useRef(null);\r\n\r\n\tconst calculateTotalItemsAndAmount = () => {\r\n\t\tlet totalItems = 0;\r\n\t\tlet totalAmount = 0;\r\n\r\n\t\tselectedItems.forEach((item) => {\r\n\t\t\ttotalItems += item.quantity;\r\n\t\t\tlet itemPrice = item.price;\r\n\r\n\t\t\tif (item.extras && item.extras.length > 0) {\r\n\t\t\t\titem.extras.forEach((extra) => {\r\n\t\t\t\t\tif (extra.category === \"Dod\") {\r\n\t\t\t\t\t\titemPrice += extra.price;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ttotalAmount += itemPrice * item.quantity;\r\n\t\t});\r\n\r\n\t\tconst discountAmount = (adjustments.discount / 100) * totalAmount;\r\n\r\n\t\treturn { totalItems, totalAmount, discountAmount };\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst storedSelectedItems = getSelectedItems(tableName);\r\n\t\tsetSelectedItems(storedSelectedItems);\r\n\t\tsetTableStatus(storedSelectedItems.length > 0 ? \"occupied\" : \"free\");\r\n\t}, [tableName]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleClickOutside = (e) => {\r\n\t\t\tif (\r\n\t\t\t\tmodalRef.current &&\r\n\t\t\t\t!modalRef.current.contains(e.target) &&\r\n\t\t\t\toverlayRef.current &&\r\n\t\t\t\toverlayRef.current.contains(e.target)\r\n\t\t\t) {\r\n\t\t\t\tsetShowMenuItemsModal(false);\r\n\t\t\t\tsetShowProcentModal(false);\r\n\t\t\t}\r\n\t\t\tif (searchBarRef.current && !searchBarRef.current.contains(e.target)) {\r\n\t\t\t\tsetSearchResults([]);\r\n\t\t\t\tsetSearchTerm(\"\");\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (showMenuItemsModal || showProcentModal) {\r\n\t\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\t} else {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [showMenuItemsModal, showProcentModal]);\r\n\r\n\tconst handleCategoryClick = (category) => {\r\n\t\tsetSelectedCategory(category);\r\n\t\tconst filteredItems = products.filter(\r\n\t\t\t(item) =>\r\n\t\t\t\titem.category === category &&\r\n\t\t\t\t(item.category !== \"Pizza\" ||\r\n\t\t\t\t\t!selectedItems.some((si) => si.id === item.id))\r\n\t\t);\r\n\t\tsetMenuItems(filteredItems);\r\n\t\tsetShowMenuItemsModal(true);\r\n\t\tsetShowPaymentModal(false);\r\n\t\tsetSearchResults([]);\r\n\t\tsetSearchTerm(\"\");\r\n\t};\r\n\r\n\tconst handleSearchChange = (e) => {\r\n\t\tconst term = e.target.value.trim().toLowerCase();\r\n\t\tsetSearchTerm(e.target.value);\r\n\t\tif (term === \"\") {\r\n\t\t\tsetSearchResults([]);\r\n\t\t} else {\r\n\t\t\tconst filteredItems = products.filter((item) =>\r\n\t\t\t\titem.name.toLowerCase().includes(term)\r\n\t\t\t);\r\n\t\t\tsetSearchResults(filteredItems);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleItemSelect = (item) => {\r\n\t\tconst existingPizza = selectedItems.find(\r\n\t\t\t(i) => i.category === \"Pizza\" && i.id === item.id\r\n\t\t);\r\n\r\n\t\tif (existingPizza) {\r\n\t\t\tconst updatedItems = selectedItems.map((i) =>\r\n\t\t\t\ti === existingPizza ? { ...i, quantity: i.quantity + 1 } : i\r\n\t\t\t);\r\n\t\t\tsetSelectedItems(updatedItems);\r\n\t\t\tupdateSelectedItems(tableName, updatedItems);\r\n\t\t\tonAddProduct(existingPizza.id, existingPizza.name, existingPizza.price);\r\n\t\t\taddSelectedItem(\r\n\t\t\t\t`${tableName}_${existingPizza.id}`,\r\n\t\t\t\texistingPizza.id,\r\n\t\t\t\texistingPizza.name,\r\n\t\t\t\texistingPizza.price,\r\n\t\t\t\texistingPizza.comment || \"\"\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst updatedItems = [...selectedItems, { ...item, quantity: 1 }];\r\n\t\t\tsetSelectedItems(updatedItems);\r\n\t\t\tupdateSelectedItems(tableName, updatedItems);\r\n\t\t\tonAddProduct(item.id, item.name, item.price);\r\n\t\t\taddSelectedItem(\r\n\t\t\t\t`${tableName}_${item.id}`,\r\n\t\t\t\titem.id,\r\n\t\t\t\titem.name,\r\n\t\t\t\titem.price,\r\n\t\t\t\titem.comment || \"\"\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tcalculateTotalPrice();\r\n\t\tsetSearchResults([]);\r\n\t\tsetSearchTerm(\"\");\r\n\t};\r\n\r\n\tconst handleItemSelectWithComment = (item, comment) => {\r\n\t\tconst updatedItem = { ...item, comment };\r\n\t\thandleItemSelect(updatedItem);\r\n\t};\r\n\r\n\tconst handleItemRemove = (itemId) => {\r\n\t\tconst updatedItems = selectedItems.map((item) =>\r\n\t\t\titem.id === itemId ? { ...item, quantity: item.quantity - 1 } : item\r\n\t\t);\r\n\t\tconst filteredItems = updatedItems.filter((item) => item.quantity > 0);\r\n\t\tsetSelectedItems(filteredItems);\r\n\t\tupdateSelectedItems(tableName, filteredItems);\r\n\t\tremoveSelectedItem(`${tableName}_${itemId}`);\r\n\t};\r\n\r\n\tconst handleCommentChange = (comment, itemId) => {\r\n\t\tconst updatedItems = selectedItems.map((item) =>\r\n\t\t\titem.id === itemId ? { ...item, comment: comment } : item\r\n\t\t);\r\n\t\tsetSelectedItems(updatedItems);\r\n\t\tupdateSelectedItems(tableName, updatedItems);\r\n\t};\r\n\r\n\tconst handleCommentAdd = (comment) => {\r\n\t\tconst commentId = `comment_${new Date().getTime()}`;\r\n\t\tconst commentItem = {\r\n\t\t\tid: commentId,\r\n\t\t\tname: `Komentarz: ${comment}`,\r\n\t\t\tprice: 0,\r\n\t\t\tquantity: 1,\r\n\t\t\tcomment: comment,\r\n\t\t};\r\n\r\n\t\tconst updatedItems = [...selectedItems, commentItem];\r\n\t\tsetSelectedItems(updatedItems);\r\n\t\tupdateSelectedItems(tableName, updatedItems);\r\n\t};\r\n\r\n\tconst handleAddExtra = (itemId, extra) => {\r\n\t\tconst updatedItems = selectedItems.map((item) =>\r\n\t\t\titem.id === itemId\r\n\t\t\t\t? {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\textras: [...(item.extras || []), extra],\r\n\t\t\t\t\t\tprice: item.price < extra.price ? extra.price : item.price,\r\n\t\t\t\t  }\r\n\t\t\t\t: item\r\n\t\t);\r\n\t\tsetSelectedItems(updatedItems);\r\n\t\tupdateSelectedItems(tableName, updatedItems);\r\n\t\tcalculateTotalPrice();\r\n\t};\r\n\r\n\tconst handleRemoveExtra = (itemId, extraId) => {\r\n\t\tconst updatedItems = selectedItems.map((item) =>\r\n\t\t\titem.id === itemId\r\n\t\t\t\t? {\r\n\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\textras: item.extras.filter((extra) => extra.id !== extraId),\r\n\t\t\t\t\t\tprice:\r\n\t\t\t\t\t\t\titem.extras && item.extras.length > 0\r\n\t\t\t\t\t\t\t\t? Math.max(\r\n\t\t\t\t\t\t\t\t\t\titem.price,\r\n\t\t\t\t\t\t\t\t\t\titem.extras.reduce((max, extra) =>\r\n\t\t\t\t\t\t\t\t\t\t\tMath.max(max, extra.price)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: item.price,\r\n\t\t\t\t  }\r\n\t\t\t\t: item\r\n\t\t);\r\n\t\tsetSelectedItems(updatedItems);\r\n\t\tupdateSelectedItems(tableName, updatedItems);\r\n\t};\r\n\r\n\tconst calculateTotalPrice = () => {\r\n\t\tlet totalPrice = 0;\r\n\t\tselectedItems.forEach((item) => {\r\n\t\t\ttotalPrice +=\r\n\t\t\t\t(item.price +\r\n\t\t\t\t\t(item.extras\r\n\t\t\t\t\t\t? item.extras.reduce(\r\n\t\t\t\t\t\t\t\t(sum, extra) =>\r\n\t\t\t\t\t\t\t\t\textra.category === \"Dod\" ? sum + extra.price : sum,\r\n\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: 0)) *\r\n\t\t\t\titem.quantity;\r\n\t\t});\r\n\t\tsetTotalPrice(totalPrice);\r\n\t};\r\n\r\n\tconst handleRozliczClick = () => {\r\n\t\tsetShowPaymentModal(true);\r\n\t};\r\n\r\n\tconst handlePaymentComplete = () => {\r\n\t\t// Update local storage to include the table name in the served wynos tables list\r\n\t\tlet servedWynosTables =\r\n\t\t\tJSON.parse(localStorage.getItem(\"servedWynosTables\")) || [];\r\n\t\tif (!servedWynosTables.includes(tableName)) {\r\n\t\t\tservedWynosTables.push(tableName);\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\"servedWynosTables\",\r\n\t\t\t\tJSON.stringify(servedWynosTables)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tclearSelectedItems(tableName);\r\n\t\tsetSelectedItems([]);\r\n\t\tsetShowPaymentModal(false);\r\n\t\tsetTableStatus(\"free\");\r\n\t\tsetCurrentTableName(tableName);\r\n\t\tresetTable();\r\n\t\tonClose(totalPrice, adjustments);\r\n\t};\r\n\r\n\tconst handleAdjustmentsSubmit = (adjustments) => {\r\n\t\tsetAdjustments(adjustments);\r\n\t\tsetShowProcentModal(false);\r\n\t};\r\n\r\n\tconst handleOpenProcentModal = () => {\r\n\t\tsetShowProcentModal(true);\r\n\t};\r\n\r\n\tconst handleOverlayClick = (e) => {\r\n\t\tif (e.target.classList.contains(\"extras-modal-overlay\")) {\r\n\t\t\tsetShowMenuItemsModal(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOverlayClickk = (e) => {\r\n\t\tif (e.target.classList.contains(\"procent-modal-overlay\")) {\r\n\t\t\tsetShowProcentModal(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst { totalItems, totalAmount, discountAmount } =\r\n\t\tcalculateTotalItemsAndAmount();\r\n\tconst serviceCharge = (adjustments.service / 100) * totalAmount;\r\n\tconst calculateAdjustedTotal = () => {\r\n\t\tlet adjustedTotal = totalAmount;\r\n\r\n\t\t// Apply service charge if applicable\r\n\t\tif (adjustments.service > 0) {\r\n\t\t\tadjustedTotal += (adjustments.service / 100) * totalAmount;\r\n\t\t}\r\n\r\n\t\t// Apply discount if applicable\r\n\t\tif (adjustments.discount > 0) {\r\n\t\t\tconst discountAmount = (adjustments.discount / 100) * totalAmount;\r\n\t\t\tadjustedTotal -= discountAmount;\r\n\t\t}\r\n\r\n\t\t// Apply add to bill adjustment if applicable\r\n\t\tif (adjustments.addToBill > 0) {\r\n\t\t\tadjustedTotal += adjustments.addToBill;\r\n\t\t}\r\n\r\n\t\t// Apply subtract from bill adjustment if applicable\r\n\t\tif (adjustments.subtractFromBill > 0) {\r\n\t\t\tadjustedTotal -= adjustments.subtractFromBill;\r\n\t\t}\r\n\r\n\t\treturn adjustedTotal;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`menu-manager-overlay ${tableStatus}`} ref={overlayRef}>\r\n\t\t\t<div className=\"menu-manager\" ref={modalRef}>\r\n\t\t\t\t<div className=\"menu-header\">\r\n\t\t\t\t\t<h2>{currentTableName}</h2>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"category-buttons\">\r\n\t\t\t\t\t{categories.map((category) => (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tkey={category}\r\n\t\t\t\t\t\t\tonClick={() => handleCategoryClick(category)}\r\n\t\t\t\t\t\t\tclassName={category === selectedCategory ? \"active\" : \"\"}>\r\n\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<button onClick={handleOpenProcentModal}>%</button> {}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"search-bar\" ref={searchBarRef}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Szukaj produktu...\"\r\n\t\t\t\t\t\tvalue={searchTerm}\r\n\t\t\t\t\t\tonChange={handleSearchChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<h3>Zamówienie stolika</h3>\r\n\t\t\t\t\t{searchTerm.trim() !== \"\" && (\r\n\t\t\t\t\t\t<div className=\"search-suggestions\">\r\n\t\t\t\t\t\t\t{searchResults.map((item) => (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\tclassName=\"search-suggestion\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleItemSelectWithComment(item, searchTerm)}>\r\n\t\t\t\t\t\t\t\t\t{item.name} - {item.price} zł\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"search-suggestion\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleCommentAdd(searchTerm);\r\n\t\t\t\t\t\t\t\t\tsetSearchResults([]);\r\n\t\t\t\t\t\t\t\t\tsetSearchTerm(\"\");\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tDodaj jako komentarz: \"{searchTerm}\"\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{showMenuItemsModal && (\r\n\t\t\t\t\t<div className=\"extras-modal-overlay\" onClick={handleOverlayClick}>\r\n\t\t\t\t\t\t<div className=\"menu-items-modal\">\r\n\t\t\t\t\t\t\t<div className=\"menu-items\">\r\n\t\t\t\t\t\t\t\t<h3>Menu - {selectedCategory}</h3>\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t{menuItems.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t<li key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.name} - {item.price} zł\r\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={() => handleItemSelect(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDodaj\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-buttons\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={() => setShowMenuItemsModal(false)}>\r\n\t\t\t\t\t\t\t\t\t\tZamknij\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"selected-items\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{selectedItems.map((item, index) => (\r\n\t\t\t\t\t\t\t<li key={`${item.id}-${index}`}>\r\n\t\t\t\t\t\t\t\t{item.name} - {item.price ? item.price : 0} zł x {item.quantity}{\" \"}\r\n\t\t\t\t\t\t\t\t={\" \"}\r\n\t\t\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\t\t\t(item.price +\r\n\t\t\t\t\t\t\t\t\t\t(item.extras\r\n\t\t\t\t\t\t\t\t\t\t\t? item.extras.reduce(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(sum, extra) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\textra.category === \"Dod\" ? sum + extra.price : sum,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t\t\t: 0)) *\r\n\t\t\t\t\t\t\t\t\titem.quantity\r\n\t\t\t\t\t\t\t\t).toFixed(2)}{\" \"}\r\n\t\t\t\t\t\t\t\tzł\r\n\t\t\t\t\t\t\t\t<Dodatki\r\n\t\t\t\t\t\t\t\t\tselectedItemId={item.id}\r\n\t\t\t\t\t\t\t\t\tselectedItems={selectedItems}\r\n\t\t\t\t\t\t\t\t\thandleAddExtra={handleAddExtra}\r\n\t\t\t\t\t\t\t\t\thandleRemoveExtra={handleRemoveExtra}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={item.comment || \"\"}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Komentarz\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => handleCommentChange(e.target.value, item.id)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"comment-input\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button onClick={() => handleItemRemove(item.id)}>-</button>\r\n\t\t\t\t\t\t\t\t<button onClick={() => handleItemSelect(item)}>+</button>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<p>Liczba pozycji: {totalItems}</p>\r\n\t\t\t\t\t<p>Suma: {calculateAdjustedTotal().toFixed(2)} zł</p>\r\n\r\n\t\t\t\t\t{}\r\n\t\t\t\t\t{adjustments.service > 0 && (\r\n\t\t\t\t\t\t<p style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\tZastosowano {adjustments.service}% serwisu (+{\" \"}\r\n\t\t\t\t\t\t\t{serviceCharge.toFixed(2)} zł)\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{adjustments.discount > 0 && (\r\n\t\t\t\t\t\t<p style={{ color: \"blue\" }}>\r\n\t\t\t\t\t\t\tZastosowano {adjustments.discount.toFixed(2)} % zniżki (-{\" \"}\r\n\t\t\t\t\t\t\t{discountAmount.toFixed(2)} zł), do zapłaty:{\" \"}\r\n\t\t\t\t\t\t\t{(totalAmount - discountAmount).toFixed(2)} zł\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{adjustments.addToBill > 0 && (\r\n\t\t\t\t\t\t<p style={{ color: \"green\" }}>\r\n\t\t\t\t\t\t\tDodano {adjustments.addToBill.toFixed(2)} zł do rachunku (+{\" \"}\r\n\t\t\t\t\t\t\t{adjustments.addToBill.toFixed(2)} zł)\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{adjustments.subtractFromBill > 0 && (\r\n\t\t\t\t\t\t<p style={{ color: \"blue\" }}>\r\n\t\t\t\t\t\t\tOdejmowano {adjustments.subtractFromBill.toFixed(2)} zł od\r\n\t\t\t\t\t\t\trachunku (- {adjustments.subtractFromBill.toFixed(2)} zł)\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"modal-buttons\">\r\n\t\t\t\t\t<button onClick={onClose}>Zamknij</button>\r\n\t\t\t\t\t{selectedItems.length > 0 && (\r\n\t\t\t\t\t\t<button onClick={handleRozliczClick}>Rozlicz</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{showPaymentModal && (\r\n\t\t\t\t\t<div className=\"payment-modal\">\r\n\t\t\t\t\t\t<PaymentManager\r\n\t\t\t\t\t\t\tselectedItems={selectedItems}\r\n\t\t\t\t\t\t\tadjustedTotalAmount={calculateAdjustedTotal()}\r\n\t\t\t\t\t\t\tonClose={handlePaymentComplete}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{showProcentModal && (\r\n\t\t\t\t\t<div className=\"procent-modal-overlay\" onClick={handleOverlayClickk}>\r\n\t\t\t\t\t\t<div className=\"procent-modal\">\r\n\t\t\t\t\t\t\t<Procent\r\n\t\t\t\t\t\t\t\tonClose={() => setShowProcentModal(false)}\r\n\t\t\t\t\t\t\t\tonSubmit={handleAdjustmentsSubmit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MenuManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}