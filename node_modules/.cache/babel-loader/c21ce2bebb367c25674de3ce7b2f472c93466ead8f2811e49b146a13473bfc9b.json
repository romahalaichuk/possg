{"ast":null,"code":"import React from\"react\";import\"./ManagerPanel.css\";import{calculateTotalAmount}from\"./ManagerPanelFunctions\";import jsPDF from\"jspdf\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManagerPanel=_ref=>{let{tables=[],wynosTables=[],onClose}=_ref;// Retrieve the list of served tables and served wynos tables from local storage\nconst servedTables=JSON.parse(localStorage.getItem(\"servedTables\"))||[];const servedWynosTables=JSON.parse(localStorage.getItem(\"servedWynosTables\"))||[];const totalTablesDuringDay=servedTables.length;// Number of served tables\nconst totalWynos=servedWynosTables.length;// Number of served wynos\nconst totalAmount=calculateTotalAmount(tables,wynosTables);const handleExportToPDF=()=>{const doc=new jsPDF();const currentDate=new Date();const dateString=\"\".concat(currentDate.getDate(),\"-\").concat(currentDate.getMonth()+1,\"-\").concat(currentDate.getFullYear());doc.text(\"Panel Managera\",20,10);doc.text(\"\\u0141\\u0105czna liczba stolik\\xF3w (w ci\\u0105gu dnia): \".concat(totalTablesDuringDay),20,20);doc.text(\"\\u0141\\u0105czna liczba wynos\\xF3w: \".concat(totalWynos),20,30);doc.text(\"\\u0141\\u0105czna kwota: \".concat(totalAmount,\" PLN\"),20,40);doc.save(\"panel_managera_\".concat(dateString,\".pdf\"));// Clear localStorage\nlocalStorage.clear();// Refresh the page\nwindow.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{className:\"manager-panel\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"X\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Panel Managera\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"manager-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0141\\u0105czna liczba stolik\\xF3w (w ci\\u0105gu dnia):\"}),\" \",totalTablesDuringDay]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0141\\u0105czna liczba stolik\\xF3w i wynos\\xF3w (op\\u0142aconych):\"}),\" \",totalWynos]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0141\\u0105czna kwota:\"}),\" \",totalAmount,\" PLN\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"export-button\",onClick:handleExportToPDF,children:\"Zamknij dzie\\u0144 i pobierz PDF\"})]});};export default ManagerPanel;","map":{"version":3,"names":["React","calculateTotalAmount","jsPDF","jsx","_jsx","jsxs","_jsxs","ManagerPanel","_ref","tables","wynosTables","onClose","servedTables","JSON","parse","localStorage","getItem","servedWynosTables","totalTablesDuringDay","length","totalWynos","totalAmount","handleExportToPDF","doc","currentDate","Date","dateString","concat","getDate","getMonth","getFullYear","text","save","clear","window","location","reload","className","children","onClick"],"sources":["C:/Users/HP/OneDrive/Desktop/possg4/src/components/ManagerPanel.js"],"sourcesContent":["import React from \"react\";\r\nimport \"./ManagerPanel.css\";\r\nimport { calculateTotalAmount } from \"./ManagerPanelFunctions\";\r\nimport jsPDF from \"jspdf\";\r\n\r\nconst ManagerPanel = ({ tables = [], wynosTables = [], onClose }) => {\r\n\t// Retrieve the list of served tables and served wynos tables from local storage\r\n\tconst servedTables = JSON.parse(localStorage.getItem(\"servedTables\")) || [];\r\n\tconst servedWynosTables =\r\n\t\tJSON.parse(localStorage.getItem(\"servedWynosTables\")) || [];\r\n\r\n\tconst totalTablesDuringDay = servedTables.length; // Number of served tables\r\n\tconst totalWynos = servedWynosTables.length; // Number of served wynos\r\n\tconst totalAmount = calculateTotalAmount(tables, wynosTables);\r\n\r\n\tconst handleExportToPDF = () => {\r\n\t\tconst doc = new jsPDF();\r\n\t\tconst currentDate = new Date();\r\n\t\tconst dateString = `${currentDate.getDate()}-${\r\n\t\t\tcurrentDate.getMonth() + 1\r\n\t\t}-${currentDate.getFullYear()}`;\r\n\r\n\t\tdoc.text(\"Panel Managera\", 20, 10);\r\n\t\tdoc.text(\r\n\t\t\t`Łączna liczba stolików (w ciągu dnia): ${totalTablesDuringDay}`,\r\n\t\t\t20,\r\n\t\t\t20\r\n\t\t);\r\n\t\tdoc.text(`Łączna liczba wynosów: ${totalWynos}`, 20, 30);\r\n\t\tdoc.text(`Łączna kwota: ${totalAmount} PLN`, 20, 40);\r\n\r\n\t\tdoc.save(`panel_managera_${dateString}.pdf`);\r\n\r\n\t\t// Clear localStorage\r\n\t\tlocalStorage.clear();\r\n\r\n\t\t// Refresh the page\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"manager-panel\">\r\n\t\t\t<button className=\"close-button\" onClick={onClose}>\r\n\t\t\t\tX\r\n\t\t\t</button>\r\n\t\t\t<h2>Panel Managera</h2>\r\n\t\t\t<div className=\"manager-info\">\r\n\t\t\t\t<div className=\"info-item\">\r\n\t\t\t\t\t<strong>Łączna liczba stolików (w ciągu dnia):</strong>{\" \"}\r\n\t\t\t\t\t{totalTablesDuringDay}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"info-item\">\r\n\t\t\t\t\t<strong>Łączna liczba stolików i wynosów (opłaconych):</strong>{\" \"}\r\n\t\t\t\t\t{totalWynos}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"info-item\">\r\n\t\t\t\t\t<strong>Łączna kwota:</strong> {totalAmount} PLN\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button className=\"export-button\" onClick={handleExportToPDF}>\r\n\t\t\t\tZamknij dzień i pobierz PDF\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ManagerPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}