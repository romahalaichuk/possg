{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTimes}from\"@fortawesome/free-solid-svg-icons\";import\"./PaymentManager.css\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const PaymentManager=_ref=>{let{selectedItems,adjustedTotalAmount,onClose}=_ref;const[amountGiven,setAmountGiven]=useState(\"\");const[changeAmount,setChangeAmount]=useState(0);const[selectedPaymentType,setSelectedPaymentType]=useState(null);const[modalVisible,setModalVisible]=useState(true);useEffect(()=>{const amountGivenNumber=parseFloat(amountGiven);if(!isNaN(amountGivenNumber)){const change=amountGivenNumber-adjustedTotalAmount;setChangeAmount(change>0?change:0);}else{setChangeAmount(0);}},[amountGiven,adjustedTotalAmount]);const handleFinalizePayment=()=>{console.log(\"Płatność została zakończona\");setSelectedPaymentType(null);onClose();};const handlePaymentTypeClick=paymentType=>{setSelectedPaymentType(paymentType);};const handleCancelPayment=()=>{if(selectedPaymentType===null){setModalVisible(false);}else{setSelectedPaymentType(null);}};const handleBackToPaymentTypeSelection=()=>{setSelectedPaymentType(null);setModalVisible(true);// Pokazuje ponownie modal\n};return modalVisible?/*#__PURE__*/_jsx(\"div\",{className:\"payment-manager-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"payment-manager\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment-header\",children:selectedPaymentType===null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Metoda p\\u0142atno\\u015Bci\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleCancelPayment,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:handleBackToPaymentTypeSelection,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes})})})}),selectedPaymentType===null?/*#__PURE__*/_jsxs(\"div\",{className:\"payment-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button-pay\",onClick:()=>handlePaymentTypeClick(\"cash\"),children:\"Got\\xF3wka\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-pay\",onClick:()=>handlePaymentTypeClick(\"card\"),children:\"Karta\"})]}):null,selectedPaymentType===\"cash\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"cash-payment\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Do zap\\u0142aty: \",adjustedTotalAmount,\" z\\u0142\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amountGiven,onChange:e=>setAmountGiven(e.target.value),placeholder:\"Kwota od klienta\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Reszta: \",changeAmount.toFixed(2),\" z\\u0142\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"finalize-button\",onClick:handleFinalizePayment,children:\"Op\\u0142acone\"})]}),selectedPaymentType===\"card\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-payment\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Implementacja p\\u0142atno\\u015Bci kart\\u0105\"}),/*#__PURE__*/_jsx(\"button\",{className:\"finalize-button\",onClick:handleFinalizePayment,children:\"Op\\u0142acone kart\\u0105\"})]})]})}):null;};export default PaymentManager;","map":{"version":3,"names":["React","useState","useEffect","FontAwesomeIcon","faTimes","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PaymentManager","_ref","selectedItems","adjustedTotalAmount","onClose","amountGiven","setAmountGiven","changeAmount","setChangeAmount","selectedPaymentType","setSelectedPaymentType","modalVisible","setModalVisible","amountGivenNumber","parseFloat","isNaN","change","handleFinalizePayment","console","log","handlePaymentTypeClick","paymentType","handleCancelPayment","handleBackToPaymentTypeSelection","className","children","onClick","icon","type","value","onChange","e","target","placeholder","toFixed"],"sources":["C:/Users/HP/OneDrive/Desktop/possg4/src/components/PaymentManager.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./PaymentManager.css\";\r\n\r\nconst PaymentManager = ({ selectedItems, adjustedTotalAmount, onClose }) => {\r\n\tconst [amountGiven, setAmountGiven] = useState(\"\");\r\n\tconst [changeAmount, setChangeAmount] = useState(0);\r\n\tconst [selectedPaymentType, setSelectedPaymentType] = useState(null);\r\n\tconst [modalVisible, setModalVisible] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst amountGivenNumber = parseFloat(amountGiven);\r\n\t\tif (!isNaN(amountGivenNumber)) {\r\n\t\t\tconst change = amountGivenNumber - adjustedTotalAmount;\r\n\t\t\tsetChangeAmount(change > 0 ? change : 0);\r\n\t\t} else {\r\n\t\t\tsetChangeAmount(0);\r\n\t\t}\r\n\t}, [amountGiven, adjustedTotalAmount]);\r\n\r\n\tconst handleFinalizePayment = () => {\r\n\t\tconsole.log(\"Płatność została zakończona\");\r\n\t\tsetSelectedPaymentType(null);\r\n\t\tonClose();\r\n\t};\r\n\r\n\tconst handlePaymentTypeClick = (paymentType) => {\r\n\t\tsetSelectedPaymentType(paymentType);\r\n\t};\r\n\r\n\tconst handleCancelPayment = () => {\r\n\t\tif (selectedPaymentType === null) {\r\n\t\t\tsetModalVisible(false);\r\n\t\t} else {\r\n\t\t\tsetSelectedPaymentType(null);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleBackToPaymentTypeSelection = () => {\r\n\t\tsetSelectedPaymentType(null);\r\n\t\tsetModalVisible(true); // Pokazuje ponownie modal\r\n\t};\r\n\r\n\treturn modalVisible ? (\r\n\t\t<div className=\"payment-manager-overlay\">\r\n\t\t\t<div className=\"payment-manager\">\r\n\t\t\t\t<div className=\"payment-header\">\r\n\t\t\t\t\t{selectedPaymentType === null ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h2>Metoda płatności</h2>\r\n\t\t\t\t\t\t\t<button className=\"close-button\" onClick={handleCancelPayment}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTimes} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"back-button\"\r\n\t\t\t\t\t\t\t\tonClick={handleBackToPaymentTypeSelection}>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTimes} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{selectedPaymentType === null ? (\r\n\t\t\t\t\t<div className=\"payment-options\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"button-pay\"\r\n\t\t\t\t\t\t\tonClick={() => handlePaymentTypeClick(\"cash\")}>\r\n\t\t\t\t\t\t\tGotówka\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"button-pay\"\r\n\t\t\t\t\t\t\tonClick={() => handlePaymentTypeClick(\"card\")}>\r\n\t\t\t\t\t\t\tKarta\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\r\n\t\t\t\t{selectedPaymentType === \"cash\" && (\r\n\t\t\t\t\t<div className=\"cash-payment\">\r\n\t\t\t\t\t\t<h3>Do zapłaty: {adjustedTotalAmount} zł</h3>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={amountGiven}\r\n\t\t\t\t\t\t\tonChange={(e) => setAmountGiven(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"Kwota od klienta\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p>Reszta: {changeAmount.toFixed(2)} zł</p>\r\n\t\t\t\t\t\t<button className=\"finalize-button\" onClick={handleFinalizePayment}>\r\n\t\t\t\t\t\t\tOpłacone\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedPaymentType === \"card\" && (\r\n\t\t\t\t\t<div className=\"card-payment\">\r\n\t\t\t\t\t\t<h3>Implementacja płatności kartą</h3>\r\n\t\t\t\t\t\t<button className=\"finalize-button\" onClick={handleFinalizePayment}>\r\n\t\t\t\t\t\t\tOpłacone kartą\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null;\r\n};\r\n\r\nexport default PaymentManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}