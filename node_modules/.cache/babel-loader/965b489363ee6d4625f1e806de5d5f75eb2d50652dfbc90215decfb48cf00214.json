{"ast":null,"code":"export const getSelectedItems = tableName => {\n  const storedItems = localStorage.getItem(tableName);\n  return storedItems ? JSON.parse(storedItems) : [];\n};\nexport const addSelectedItem = (tableName, productId, productName, productPrice, productComment = \"\") => {\n  const selectedItems = getSelectedItems(tableName);\n  const existingItemIndex = selectedItems.findIndex(item => item.id === productId);\n  if (existingItemIndex !== -1) {\n    selectedItems[existingItemIndex].quantity += 1;\n  } else {\n    selectedItems.push({\n      id: productId,\n      name: productName,\n      price: productPrice,\n      quantity: 1,\n      comment: productComment,\n      extras: []\n    });\n  }\n  localStorage.setItem(tableName, JSON.stringify(selectedItems));\n};\nexport const removeSelectedItem = (tableName, productId) => {\n  const selectedItems = getSelectedItems(tableName);\n  const updatedItems = selectedItems.map(item => {\n    if (item.id === productId) {\n      item.quantity -= 1;\n    }\n    return item;\n  }).filter(item => item.quantity > 0);\n  localStorage.setItem(tableName, JSON.stringify(updatedItems));\n};\nexport const clearSelectedItems = tableName => {\n  localStorage.removeItem(tableName);\n};\nexport const updateSelectedItems = (tableName, items) => {\n  localStorage.setItem(tableName, JSON.stringify(items));\n};\nexport const addExtraToItem = (tableName, productId, extra) => {\n  const selectedItems = getSelectedItems(tableName);\n  const itemIndex = selectedItems.findIndex(item => item.id === productId);\n  if (itemIndex !== -1) {\n    const item = selectedItems[itemIndex];\n    if (!item.extras) {\n      item.extras = [];\n    }\n    item.extras.push(extra);\n    localStorage.setItem(tableName, JSON.stringify(selectedItems));\n  }\n};\nexport const removeExtraFromItem = (tableName, productId, extraId) => {\n  const selectedItems = getSelectedItems(tableName);\n  const itemIndex = selectedItems.findIndex(item => item.id === productId);\n  if (itemIndex !== -1) {\n    const item = selectedItems[itemIndex];\n    item.extras = item.extras.filter(extra => extra.id !== extraId);\n    localStorage.setItem(tableName, JSON.stringify(selectedItems));\n  }\n};","map":{"version":3,"names":["getSelectedItems","tableName","storedItems","localStorage","getItem","JSON","parse","addSelectedItem","productId","productName","productPrice","productComment","selectedItems","existingItemIndex","findIndex","item","id","quantity","push","name","price","comment","extras","setItem","stringify","removeSelectedItem","updatedItems","map","filter","clearSelectedItems","removeItem","updateSelectedItems","items","addExtraToItem","extra","itemIndex","removeExtraFromItem","extraId"],"sources":["C:/Users/HP/OneDrive/Desktop/possg4/src/components/LocalStorageManager.js"],"sourcesContent":["export const getSelectedItems = (tableName) => {\r\n\tconst storedItems = localStorage.getItem(tableName);\r\n\treturn storedItems ? JSON.parse(storedItems) : [];\r\n};\r\n\r\nexport const addSelectedItem = (\r\n\ttableName,\r\n\tproductId,\r\n\tproductName,\r\n\tproductPrice,\r\n\tproductComment = \"\"\r\n) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst existingItemIndex = selectedItems.findIndex(\r\n\t\t(item) => item.id === productId\r\n\t);\r\n\r\n\tif (existingItemIndex !== -1) {\r\n\t\tselectedItems[existingItemIndex].quantity += 1;\r\n\t} else {\r\n\t\tselectedItems.push({\r\n\t\t\tid: productId,\r\n\t\t\tname: productName,\r\n\t\t\tprice: productPrice,\r\n\t\t\tquantity: 1,\r\n\t\t\tcomment: productComment,\r\n\t\t\textras: [],\r\n\t\t});\r\n\t}\r\n\r\n\tlocalStorage.setItem(tableName, JSON.stringify(selectedItems));\r\n};\r\n\r\nexport const removeSelectedItem = (tableName, productId) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst updatedItems = selectedItems\r\n\t\t.map((item) => {\r\n\t\t\tif (item.id === productId) {\r\n\t\t\t\titem.quantity -= 1;\r\n\t\t\t}\r\n\t\t\treturn item;\r\n\t\t})\r\n\t\t.filter((item) => item.quantity > 0);\r\n\r\n\tlocalStorage.setItem(tableName, JSON.stringify(updatedItems));\r\n};\r\n\r\nexport const clearSelectedItems = (tableName) => {\r\n\tlocalStorage.removeItem(tableName);\r\n};\r\n\r\nexport const updateSelectedItems = (tableName, items) => {\r\n\tlocalStorage.setItem(tableName, JSON.stringify(items));\r\n};\r\n\r\nexport const addExtraToItem = (tableName, productId, extra) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst itemIndex = selectedItems.findIndex((item) => item.id === productId);\r\n\r\n\tif (itemIndex !== -1) {\r\n\t\tconst item = selectedItems[itemIndex];\r\n\t\tif (!item.extras) {\r\n\t\t\titem.extras = [];\r\n\t\t}\r\n\t\titem.extras.push(extra);\r\n\t\tlocalStorage.setItem(tableName, JSON.stringify(selectedItems));\r\n\t}\r\n};\r\n\r\nexport const removeExtraFromItem = (tableName, productId, extraId) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst itemIndex = selectedItems.findIndex((item) => item.id === productId);\r\n\r\n\tif (itemIndex !== -1) {\r\n\t\tconst item = selectedItems[itemIndex];\r\n\t\titem.extras = item.extras.filter((extra) => extra.id !== extraId);\r\n\t\tlocalStorage.setItem(tableName, JSON.stringify(selectedItems));\r\n\t}\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}