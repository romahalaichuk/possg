{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./PizzaModal.css\";import{products}from\"./Produkt\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PizzaModal=_ref=>{let{selectedSize,onClose,onAddPizza}=_ref;const[searchTerm,setSearchTerm]=useState(\"\");const[filteredPizzas,setFilteredPizzas]=useState([]);const[setSelectedPizza]=useState(null);const modalRef=useRef(null);useEffect(()=>{setFilteredPizzas(products.filter(item=>item.category===\"Pizza\"&&(!selectedSize||item.cm===selectedSize)));},[selectedSize]);useEffect(()=>{const filtered=products.filter(item=>item.category===\"Pizza\"&&(!selectedSize||item.cm===selectedSize)&&item.name.toLowerCase().includes(searchTerm.toLowerCase()));setFilteredPizzas(filtered);},[searchTerm,selectedSize]);useEffect(()=>{const handleClickOutside=e=>{if(modalRef.current&&!modalRef.current.contains(e.target)){onClose();}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[onClose]);const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handlePizzaSelection=pizza=>{setSelectedPizza(pizza);onAddPizza(pizza);onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-modal\",ref:modalRef,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Wybierz pizz\\u0119 do po\\u0142owy\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Szukaj pizzy...\",value:searchTerm,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"ul\",{children:filteredPizzas.map(pizza=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handlePizzaSelection(pizza),children:/*#__PURE__*/_jsx(\"div\",{className:\"pizza-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:pizza.name}),/*#__PURE__*/_jsxs(\"p\",{children:[pizza.price,\" z\\u0142\"]})]})})},pizza.id))}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"Anuluj\"})]})});};export default PizzaModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","products","jsx","_jsx","jsxs","_jsxs","PizzaModal","_ref","selectedSize","onClose","onAddPizza","searchTerm","setSearchTerm","filteredPizzas","setFilteredPizzas","setSelectedPizza","modalRef","filter","item","category","cm","filtered","name","toLowerCase","includes","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleSearchChange","value","handlePizzaSelection","pizza","className","children","ref","type","placeholder","onChange","map","onClick","price","id"],"sources":["C:/Users/HP/OneDrive/Desktop/possg4/src/components/PizzaModal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./PizzaModal.css\";\r\nimport { products } from \"./Produkt\";\r\n\r\nconst PizzaModal = ({ selectedSize, onClose, onAddPizza }) => {\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [filteredPizzas, setFilteredPizzas] = useState([]);\r\n\tconst [setSelectedPizza] = useState(null);\r\n\r\n\tconst modalRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFilteredPizzas(\r\n\t\t\tproducts.filter(\r\n\t\t\t\t(item) =>\r\n\t\t\t\t\titem.category === \"Pizza\" &&\r\n\t\t\t\t\t(!selectedSize || item.cm === selectedSize)\r\n\t\t\t)\r\n\t\t);\r\n\t}, [selectedSize]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst filtered = products.filter(\r\n\t\t\t(item) =>\r\n\t\t\t\titem.category === \"Pizza\" &&\r\n\t\t\t\t(!selectedSize || item.cm === selectedSize) &&\r\n\t\t\t\titem.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n\t\t);\r\n\t\tsetFilteredPizzas(filtered);\r\n\t}, [searchTerm, selectedSize]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleClickOutside = (e) => {\r\n\t\t\tif (modalRef.current && !modalRef.current.contains(e.target)) {\r\n\t\t\t\tonClose();\r\n\t\t\t}\r\n\t\t};\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [onClose]);\r\n\r\n\tconst handleSearchChange = (e) => {\r\n\t\tsetSearchTerm(e.target.value);\r\n\t};\r\n\r\n\tconst handlePizzaSelection = (pizza) => {\r\n\t\tsetSelectedPizza(pizza);\r\n\t\tonAddPizza(pizza);\r\n\t\tonClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"pizza-modal-overlay\">\r\n\t\t\t<div className=\"pizza-modal\" ref={modalRef}>\r\n\t\t\t\t<h2>Wybierz pizzę do połowy</h2>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Szukaj pizzy...\"\r\n\t\t\t\t\tvalue={searchTerm}\r\n\t\t\t\t\tonChange={handleSearchChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{filteredPizzas.map((pizza) => (\r\n\t\t\t\t\t\t<li key={pizza.id} onClick={() => handlePizzaSelection(pizza)}>\r\n\t\t\t\t\t\t\t<div className=\"pizza-item\">\r\n\t\t\t\t\t\t\t\t<div className=\"pizza-details\">\r\n\t\t\t\t\t\t\t\t\t<h3>{pizza.name}</h3>\r\n\t\t\t\t\t\t\t\t\t<p>{pizza.price} zł</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<button onClick={onClose}>Anuluj</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PizzaModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}