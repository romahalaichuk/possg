{"ast":null,"code":"export const getSelectedItems=tableName=>{const storedItems=localStorage.getItem(tableName);return storedItems?JSON.parse(storedItems):[];};export const addSelectedItem=function(tableName,productId,productName,productPrice){let productComment=arguments.length>4&&arguments[4]!==undefined?arguments[4]:\"\";const selectedItems=getSelectedItems(tableName);const existingItemIndex=selectedItems.findIndex(item=>item.id===productId);if(existingItemIndex!==-1){selectedItems[existingItemIndex].quantity+=1;}else{selectedItems.push({id:productId,name:productName,price:productPrice,quantity:1,comment:productComment,extras:[]});}localStorage.setItem(tableName,JSON.stringify(selectedItems));};export const removeSelectedItem=(tableName,productId)=>{const selectedItems=getSelectedItems(tableName);const updatedItems=selectedItems.map(item=>{if(item.id===productId){item.quantity-=1;}return item;}).filter(item=>item.quantity>0);localStorage.setItem(tableName,JSON.stringify(updatedItems));};export const clearSelectedItems=tableName=>{localStorage.removeItem(tableName);};export const updateSelectedItems=(tableName,items)=>{localStorage.setItem(tableName,JSON.stringify(items));};export const addExtraToItem=(tableName,productId,extra)=>{const selectedItems=getSelectedItems(tableName);const itemIndex=selectedItems.findIndex(item=>item.id===productId);if(itemIndex!==-1){const item=selectedItems[itemIndex];if(!item.extras){item.extras=[];}item.extras.push(extra);localStorage.setItem(tableName,JSON.stringify(selectedItems));}};export const removeExtraFromItem=(tableName,productId,extraId)=>{const selectedItems=getSelectedItems(tableName);const itemIndex=selectedItems.findIndex(item=>item.id===productId);if(itemIndex!==-1){const item=selectedItems[itemIndex];item.extras=item.extras.filter(extra=>extra.id!==extraId);localStorage.setItem(tableName,JSON.stringify(selectedItems));}};","map":{"version":3,"names":["getSelectedItems","tableName","storedItems","localStorage","getItem","JSON","parse","addSelectedItem","productId","productName","productPrice","productComment","arguments","length","undefined","selectedItems","existingItemIndex","findIndex","item","id","quantity","push","name","price","comment","extras","setItem","stringify","removeSelectedItem","updatedItems","map","filter","clearSelectedItems","removeItem","updateSelectedItems","items","addExtraToItem","extra","itemIndex","removeExtraFromItem","extraId"],"sources":["C:/Users/HP/OneDrive/Desktop/possg4/src/components/LocalStorageManager.js"],"sourcesContent":["export const getSelectedItems = (tableName) => {\r\n\tconst storedItems = localStorage.getItem(tableName);\r\n\treturn storedItems ? JSON.parse(storedItems) : [];\r\n};\r\n\r\nexport const addSelectedItem = (\r\n\ttableName,\r\n\tproductId,\r\n\tproductName,\r\n\tproductPrice,\r\n\tproductComment = \"\"\r\n) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst existingItemIndex = selectedItems.findIndex(\r\n\t\t(item) => item.id === productId\r\n\t);\r\n\r\n\tif (existingItemIndex !== -1) {\r\n\t\tselectedItems[existingItemIndex].quantity += 1;\r\n\t} else {\r\n\t\tselectedItems.push({\r\n\t\t\tid: productId,\r\n\t\t\tname: productName,\r\n\t\t\tprice: productPrice,\r\n\t\t\tquantity: 1,\r\n\t\t\tcomment: productComment,\r\n\t\t\textras: [],\r\n\t\t});\r\n\t}\r\n\r\n\tlocalStorage.setItem(tableName, JSON.stringify(selectedItems));\r\n};\r\n\r\nexport const removeSelectedItem = (tableName, productId) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst updatedItems = selectedItems\r\n\t\t.map((item) => {\r\n\t\t\tif (item.id === productId) {\r\n\t\t\t\titem.quantity -= 1;\r\n\t\t\t}\r\n\t\t\treturn item;\r\n\t\t})\r\n\t\t.filter((item) => item.quantity > 0);\r\n\r\n\tlocalStorage.setItem(tableName, JSON.stringify(updatedItems));\r\n};\r\n\r\nexport const clearSelectedItems = (tableName) => {\r\n\tlocalStorage.removeItem(tableName);\r\n};\r\n\r\nexport const updateSelectedItems = (tableName, items) => {\r\n\tlocalStorage.setItem(tableName, JSON.stringify(items));\r\n};\r\n\r\nexport const addExtraToItem = (tableName, productId, extra) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst itemIndex = selectedItems.findIndex((item) => item.id === productId);\r\n\r\n\tif (itemIndex !== -1) {\r\n\t\tconst item = selectedItems[itemIndex];\r\n\t\tif (!item.extras) {\r\n\t\t\titem.extras = [];\r\n\t\t}\r\n\t\titem.extras.push(extra);\r\n\t\tlocalStorage.setItem(tableName, JSON.stringify(selectedItems));\r\n\t}\r\n};\r\n\r\nexport const removeExtraFromItem = (tableName, productId, extraId) => {\r\n\tconst selectedItems = getSelectedItems(tableName);\r\n\tconst itemIndex = selectedItems.findIndex((item) => item.id === productId);\r\n\r\n\tif (itemIndex !== -1) {\r\n\t\tconst item = selectedItems[itemIndex];\r\n\t\titem.extras = item.extras.filter((extra) => extra.id !== extraId);\r\n\t\tlocalStorage.setItem(tableName, JSON.stringify(selectedItems));\r\n\t}\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}